!function(e,t,o){"use strict";function n(){function e(e){a.players.push(e)}function t(){return"youtube-"+ ++n}function o(){a.players.forEach(function(e){1===e.state&&e.pauseVideo()})}var n=0,a={addPlayer:e,newElementId:t,players:[],pausePlayingVideo:o};return a}function a(t){function o(o,n,a){function r(){n.addClass("youtube-container"),n.append(i),n.bind("click",u)}function u(a){function r(e){e.target.playVideo()}function u(e){var n=e.data;1===n&&t.pausePlayingVideo(),o.player.state=n,o.$emit("youtube.stateChange")}var i=t.newElementId(),d=e.element('<div id="'+i+'"></div>'),p=e.extend({autoplay:1,rel:0},o.playerOptions);n.empty(),n.append(d),o.player=function(e){var n=new YT.Player(e,{videoId:o.videoId,playerVars:p,events:{onReady:r,onStateChange:u}});return t.addPlayer(n),n}(i)}var i=function(){var t=-1!==["mq","hq","sd","max"].indexOf(a.videoQuality)?a.videoQuality+"default.jpg":"sddefault.jpg",n="//img.youtube.com/vi/"+o.videoId+"/"+t,r=o.videoName||"youtube video";return e.element('<img src="'+n+'" alt="'+r+'">')}();o.$on("youtube.ready",r)}return{restrict:"EA",scope:{player:"=psYoutube",playerOptions:"=playerOptions",videoId:"=",videoName:"="},template:'<button class="play-button"></button>',link:o}}function r(n){!function(){var e=t.createElement("script");e.src="https://www.youtube.com/iframe_api";var a=t.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a),o.onYouTubeIframeAPIReady=function(){n.$broadcast("youtube.ready")}}(),function(){var o=e.element('<style type="text/css">.youtube-container{position:relative;padding-top:56.25%;background-color:#000;overflow:hidden}.youtube-container .play-button{width:90px;height:60px;background-color:#333;box-shadow:0 0 30px rgba(0,0,0,.6);z-index:1;opacity:.8;border-radius:6px}.youtube-container img{width:100%;top:-16.82%;left:0;opacity:.7}.youtube-container .play-button:before{content:"";border-style:solid;border-width:15px 0 15px 26px;border-color:transparent transparent transparent #fff}.youtube-container .play-button,.youtube-container img{cursor:pointer}.youtube-container .play-button,.youtube-container .play-button:before,.youtube-container iframe,.youtube-container img{position:absolute}.youtube-container .play-button,.youtube-container .play-button:before{top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%)}.youtube-container iframe{height:100%;width:100%;top:0;left:0}</style>');e.element(t).find("head").append(o)}()}e.module("ps-youtube",[]).factory("youtubePlayer",n).directive("psYoutube",a).run(r),a.$inject=["youtubePlayer"],r.$inject=["$rootScope"]}(angular,document,window);