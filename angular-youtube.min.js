!function(t,e,a){"use strict";function n(e){return{restrict:"EA",scope:{player:"=?psYoutube",playerOptions:"=playerOptions",videoId:"=",videoName:"="},template:'<button class="play-button" aria-label="play"></button>',link:function(a,n,o){function r(o){function r(t){t.target.playVideo()}function i(t){var n=t.data;1===n&&e.pausePlayingVideo(),a.player.state=n,a.$emit("youtube.stateChange")}if(e.ready){var u=e.newElementId(),l=t.element('<div id="'+u+'"></div>'),s=t.extend({autoplay:1,rel:0},a.playerOptions);n.empty(),n.append(l),a.player=function(t){var n=new YT.Player(t,{videoId:a.videoId,playerVars:s,events:{onReady:r,onStateChange:i}});return e.addPlayer(n),n}(u)}}var i=function(){var e=-1!==["mq","hq","sd","maxres"].indexOf(o.videoQuality)?o.videoQuality+"default.jpg":"sddefault.jpg",n="//img.youtube.com/vi/"+a.videoId+"/"+e,r=a.videoName||"youtube video";return t.element('<img src="'+n+'" alt="'+r+'">')}();n.addClass("youtube-container"),n.append(i),n.bind("click",r)}}}function o(n,o){!function(){var t=e.createElement("script");t.src="https://www.youtube.com/iframe_api";var n=e.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n),a.onYouTubeIframeAPIReady=function(){o.ready=!0}}(),function(){var a=t.element('<style type="text/css">.youtube-container{position:relative;display:block;padding-top:56.25%;background-color:#000;overflow:hidden}.youtube-container .play-button{width:90px;height:60px;background-color:#333;box-shadow:0 0 30px rgba(0,0,0,.6);z-index:1;opacity:.8;border-radius:6px}.youtube-container img{width:100%;top:50%;left:0;transform:translateY(-50%);-webkit-transform:translateY(-50%);-mos-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);opacity:.7}.youtube-container .play-button:before{content:"";border-style:solid;border-width:15px 0 15px 26px;border-color:transparent transparent transparent #fff}.youtube-container .play-button,.youtube-container img{cursor:pointer}.youtube-container .play-button,.youtube-container .play-button:before,.youtube-container iframe,.youtube-container img{position:absolute}.youtube-container .play-button,.youtube-container .play-button:before{top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%)}.youtube-container iframe{height:100%;width:100%;top:0;left:0}</style>');t.element(e).find("head").append(a)}()}t.module("ps-youtube",[]).factory("youtubePlayer",function(){var t=0,e={addPlayer:function(t){e.players.push(t)},newElementId:function(){return"youtube-"+ ++t},players:[],pausePlayingVideo:function(){e.players.forEach(function(t){1===t.state&&t.pauseVideo()})},ready:!1};return e}).directive("psYoutube",n).run(o),n.$inject=["youtubePlayer"],o.$inject=["$rootScope","youtubePlayer"]}(angular,document,window);