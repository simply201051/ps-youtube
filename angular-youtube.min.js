!function(e,t,o){"use strict";function n(t){return{restrict:"EA",scope:{player:"=?psYoutube",playerOptions:"=playerOptions",videoId:"=",videoName:"="},template:'<button class="play-button" aria-label="play"></button>',link:function(o,n,a){function r(a){function r(e){e.target.playVideo()}function u(e){var n=e.data;1===n&&t.pausePlayingVideo(),o.player.state=n,o.$emit("youtube.stateChange")}if(t.ready){var i=t.newElementId(),l=e.element('<div id="'+i+'"></div>'),d=e.extend({autoplay:1,rel:0},o.playerOptions);n.empty(),n.append(l),o.player=function(e){var n=new YT.Player(e,{videoId:o.videoId,playerVars:d,events:{onReady:r,onStateChange:u}});return t.addPlayer(n),n}(i)}}var u=function(){var t=-1!==["mq","hq","sd","maxres"].indexOf(a.videoQuality)?a.videoQuality+"default.jpg":"sddefault.jpg",n="//img.youtube.com/vi/"+o.videoId+"/"+t,r=o.videoName||"youtube video";return e.element('<img src="'+n+'" alt="'+r+'">')}();n.addClass("youtube-container"),n.append(u),n.bind("click",r)}}}function a(n,a){!function(){var e=t.createElement("script");e.src="https://www.youtube.com/iframe_api";var n=t.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n),o.onYouTubeIframeAPIReady=function(){a.ready=!0}}(),function(){var o=e.element('<style type="text/css">.youtube-container{position:relative;display:block;padding-top:56.25%;background-color:#000;overflow:hidden}.youtube-container .play-button{width:90px;height:60px;background-color:#333;box-shadow:0 0 30px rgba(0,0,0,.6);z-index:1;opacity:.8;border-radius:6px}.youtube-container img{width:100%;top:-16.82%;left:0;opacity:.7}.youtube-container .play-button:before{content:"";border-style:solid;border-width:15px 0 15px 26px;border-color:transparent transparent transparent #fff}.youtube-container .play-button,.youtube-container img{cursor:pointer}.youtube-container .play-button,.youtube-container .play-button:before,.youtube-container iframe,.youtube-container img{position:absolute}.youtube-container .play-button,.youtube-container .play-button:before{top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%)}.youtube-container iframe{height:100%;width:100%;top:0;left:0}</style>');e.element(t).find("head").append(o)}()}e.module("ps-youtube",[]).factory("youtubePlayer",function(){var e=0,t={addPlayer:function(e){t.players.push(e)},newElementId:function(){return"youtube-"+ ++e},players:[],pausePlayingVideo:function(){t.players.forEach(function(e){1===e.state&&e.pauseVideo()})},ready:!1};return t}).directive("psYoutube",n).run(a),n.$inject=["youtubePlayer"],a.$inject=["$rootScope","youtubePlayer"]}(angular,document,window);