!function(a,b,c){"use strict";function d(){function c(a){b.players.push(a)}function d(){return"youtube-"+ ++a}function e(){b.players.forEach(function(a){1===a.state&&a.pauseVideo()})}var a=0,b={addPlayer:c,newElementId:d,players:[],pausePlayingVideo:e};return b}function e(b){function d(c,d,e){function g(){d.addClass("youtube-container"),d.append(f),d.bind("click",i)}function h(){var b=-1!==["mq","hq","sd","max"].indexOf(e.videoQuality)?e.videoQuality+"default.jpg":"sddefault.jpg",d="//img.youtube.com/vi/"+c.videoId+"/"+b,f=c.videoName||"youtube video";return a.element('<img src="'+d+'" alt='+f+">")}function i(e){function i(a){var d=new YT.Player(a,{videoId:c.videoId,playerVars:h,events:{onReady:j,onStateChange:k}});return b.addPlayer(d),d}function j(a){a.target.playVideo()}function k(a){1===a.data&&b.pausePlayingVideo(),c.player.state=a.data}var f=b.newElementId(),g=a.element('<div id="'+f+'"></div>'),h=a.extend({autoplay:1,rel:0},c.playerOptions);d.empty(),d.append(g),c.player=i(f)}var f=h();c.$on("youtube.ready",g)}return{restrict:"EA",scope:{player:"=psYoutube",playerOptions:"=playerOptions",videoId:"=",videoNmae:"="},template:'<button class="play-button"></button>',link:d}}function f(d){function e(){var a=b.createElement("script");a.src="https://www.youtube.com/iframe_api";var e=b.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e),c.onYouTubeIframeAPIReady=function(){d.$broadcast("youtube.ready")}}function f(){var c='.youtube-container{position:relative;padding-top:56.25%;background-color:#000;overflow:hidden}.youtube-container .play-button{width:90px;height:60px;background-color:#333;box-shadow:0 0 30px rgba(0,0,0,.6);z-index:1;opacity:.8;border-radius:6px}.youtube-container img{width:100%;top:-16.82%;left:0;opacity:.7}.youtube-container .play-button:before{content:"";border-style:solid;border-width:15px 0 15px 26px;border-color:transparent transparent transparent #fff}.youtube-container .play-button,.youtube-container img{cursor:pointer}.youtube-container .play-button,.youtube-container .play-button:before,.youtube-container iframe,.youtube-container img{position:absolute}.youtube-container .play-button,.youtube-container .play-button:before{top:50%;left:50%;transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-ms-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%)}.youtube-container iframe{height:100%;width:100%;top:0;left:0}',d=a.element('<style type="text/css">'+c+"</style>");a.element(b).find("head").append(d)}e(),f()}a.module("ps-youtube",[]).factory("youtubePlayer",d).directive("psYoutube",e).run(f),e.$inject=["youtubePlayer"],f.$inject=["$rootScope"]}(angular,document,window);